2025-01-05 10:04:36,869 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_google_genai\chat_models.py", line 178, in _chat_with_retry
    return generation_method(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 830, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 * GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[trendline].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[trendline_scope].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[marginal_x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[marginal_y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[size].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[stripmode].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[diagonal_visible].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[category_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[color_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[value_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[color_scale].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[color_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[show_values].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[color_scale].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[facet_row].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[barmode].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[facet_col].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[values].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[names].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[points].type: must be specified when not using one_of


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 37, in <module>
    print(graph.invoke(
          ^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1936, in invoke
    for chunk in self.stream(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1656, in stream
    for _ in runner.tick(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\runner.py", line 167, in tick
    run_with_retry(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\retry.py", line 40, in run_with_retry
    return task.proc.invoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 408, in invoke
    input = step.invoke(input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 184, in invoke
    ret = context.run(self.func, input, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\caller.py", line 20, in caller_node
    response = model_with_tools.invoke(messages)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 286, in invoke
    self.generate_prompt(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 786, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 643, in generate
    raise e
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 633, in generate
    self._generate_with_cache(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 851, in _generate_with_cache
    result = self._generate(
             ^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_google_genai\chat_models.py", line 946, in _generate
    response: GenerateContentResponse = _chat_with_retry(
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_google_genai\chat_models.py", line 196, in _chat_with_retry
    return _chat_with_retry(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 330, in wrapped_f
    return self(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 467, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 368, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 390, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
                                     ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 470, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_google_genai\chat_models.py", line 190, in _chat_with_retry
    raise ChatGoogleGenerativeAIError(
langchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[trendline].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[trendline_scope].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[marginal_x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[marginal_y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[size].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[stripmode].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[diagonal_visible].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[category_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[color_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[value_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[color_scale].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[color_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[show_values].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[color_scale].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[facet_row].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[barmode].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[facet_col].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[values].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[names].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[points].type: must be specified when not using one_of

During task with name 'caller' and id '98a46352-8ba8-fad0-3cbe-78c36bbf88f1'

2025-01-05 10:04:36,870 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-05 10:06:05,328 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_google_genai\chat_models.py", line 178, in _chat_with_retry
    return generation_method(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 830, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\timeout.py", line 120, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 * GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[marginal_x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[trendline].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[marginal_y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[trendline_scope].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[size].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[stripmode].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[diagonal_visible].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[category_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[color_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[value_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[color_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[color_scale].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[color_scale].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[show_values].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[facet_row].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[facet_col].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[barmode].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[names].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[values].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[points].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[y].type: must be specified when not using one_of


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 37, in <module>
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1936, in invoke
    for chunk in self.stream(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1656, in stream
    for _ in runner.tick(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\runner.py", line 167, in tick
    run_with_retry(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\retry.py", line 40, in run_with_retry
    return task.proc.invoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 408, in invoke
    input = step.invoke(input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 184, in invoke
    ret = context.run(self.func, input, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\caller.py", line 20, in caller_node
    response = model_with_tools.invoke(messages)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 5354, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 286, in invoke
    self.generate_prompt(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 786, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 643, in generate
    raise e
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 633, in generate
    self._generate_with_cache(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\language_models\chat_models.py", line 851, in _generate_with_cache
    result = self._generate(
             ^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_google_genai\chat_models.py", line 946, in _generate
    response: GenerateContentResponse = _chat_with_retry(
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_google_genai\chat_models.py", line 196, in _chat_with_retry
    return _chat_with_retry(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 330, in wrapped_f
    return self(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 467, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 368, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 390, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
                                     ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\tenacity\__init__.py", line 470, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_google_genai\chat_models.py", line 190, in _chat_with_retry
    raise ChatGoogleGenerativeAIError(
langchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[marginal_x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[trendline].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[marginal_y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[trendline_scope].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[size].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[stripmode].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[4].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[diagonal_visible].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[category_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[color_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[value_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[color_column].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[color_scale].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[color_scale].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[show_values].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[facet_row].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[facet_col].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[barmode].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[9].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[10].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[names].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[values].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[11].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[title].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[12].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[13].parameters.properties[y].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[x_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[x].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[points].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[color].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[project_id].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[y_label].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].type: must be specified when not using one_of
* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[y].type: must be specified when not using one_of

During task with name 'caller' and id '80bc90ce-463c-d194-d928-3d47df3aac7e'

2025-01-05 10:06:05,329 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 09:44:02,063 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langsmith\utils.py", line 145, in raise_for_status_with_text
    response.raise_for_status()
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.smith.langchain.com/commits/-/caller/latest

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langsmith\client.py", line 846, in request_with_retries
    ls_utils.raise_for_status_with_text(response)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langsmith\utils.py", line 147, in raise_for_status_with_text
    raise requests.HTTPError(str(e), response.text) from e  # type: ignore[call-arg]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
requests.exceptions.HTTPError: [Errno 404 Client Error: Not Found for url: https://api.smith.langchain.com/commits/-/caller/latest] {"detail":"Repo None/caller not found"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 4, in <module>
    from caller import caller_node
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\caller.py", line 14, in <module>
    system_prompt = hub.pull("caller").messages[0].content
                    ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain\hub.py", line 114, in pull
    response = client.pull_prompt(owner_repo_commit, include_model=include_model)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langsmith\client.py", line 5642, in pull_prompt
    prompt_object = self.pull_prompt_commit(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langsmith\client.py", line 5542, in pull_prompt_commit
    response = self.request_with_retries(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langsmith\client.py", line 881, in request_with_retries
    raise ls_utils.LangSmithNotFoundError(
langsmith.utils.LangSmithNotFoundError: Resource not found for /commits/-/caller/latest. HTTPError('404 Client Error: Not Found for url: https://api.smith.langchain.com/commits/-/caller/latest', '{"detail":"Repo None/caller not found"}')

2025-01-17 09:44:02,067 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 10:12:56,318 - langgraph_api.queue - ERROR - {'run_id': '1efd4aad-a235-6fc9-9baa-ce370c55e0f8', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:12:54.105492+00:00', 'run_started_at': '2025-01-17T08:12:54.307911+00:00', 'run_ended_at': '2025-01-17T08:12:56.292344+00:00', 'run_exec_ms': 1984, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:12:56.292344Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 447, in ainvoke\n    input = await step.ainvoke(input, config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 143, in do_write\n    if ww := w.mapper(w.value):\n             ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\graph\\state.py", line 674, in _get_updates\n    raise InvalidUpdateError(msg)\nlanggraph.errors.InvalidUpdateError: Expected dict, got coder\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_GRAPH_NODE_RETURN_VALUE\nDuring task with name \'planner\' and id \'d54d2e9a-e079-517b-a36d-93348d83ac83\''}
NoneType: None
2025-01-17 10:17:21,072 - langgraph_api.queue - ERROR - {'run_id': '1efd4ab7-865d-6b97-b94b-baa772e9bd71', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:17:19.621211+00:00', 'run_started_at': '2025-01-17T08:17:19.772200+00:00', 'run_ended_at': '2025-01-17T08:17:21.070263+00:00', 'run_exec_ms': 1298, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:17:21.071264Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 447, in ainvoke\n    input = await step.ainvoke(input, config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 143, in do_write\n    if ww := w.mapper(w.value):\n             ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\graph\\state.py", line 674, in _get_updates\n    raise InvalidUpdateError(msg)\nlanggraph.errors.InvalidUpdateError: Expected dict, got coder\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_GRAPH_NODE_RETURN_VALUE\nDuring task with name \'planner\' and id \'d008d187-89c8-f8fb-f7c4-376290cdf947\''}
NoneType: None
2025-01-17 10:42:08,708 - langgraph_api.queue - ERROR - {'run_id': '1efd4aee-ed22-6349-8f11-23140530e931', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:42:06.792173+00:00', 'run_started_at': '2025-01-17T08:42:06.834844+00:00', 'run_ended_at': '2025-01-17T08:42:08.702892+00:00', 'run_exec_ms': 1868, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:42:08.702892Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 447, in ainvoke\n    input = await step.ainvoke(input, config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 143, in do_write\n    if ww := w.mapper(w.value):\n             ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\graph\\state.py", line 674, in _get_updates\n    raise InvalidUpdateError(msg)\nlanggraph.errors.InvalidUpdateError: Expected dict, got caller\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_GRAPH_NODE_RETURN_VALUE\nDuring task with name \'planner\' and id \'f62dcf66-1c66-d184-ec1f-8714f54580ec\''}
NoneType: None
2025-01-17 10:42:59,949 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 33, in <module>
    graph = builder.compile()
            ^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\state.py", line 510, in compile
    self.validate(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 378, in validate
    raise ValueError(
ValueError: Graph must have an entrypoint: add at least one edge from START to another node

2025-01-17 10:42:59,950 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 10:44:00,992 - langgraph_api.queue - ERROR - {'run_id': '1efd4af3-2846-638a-91c5-7e00b1290a1c', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:44:00.368776+00:00', 'run_started_at': '2025-01-17T08:44:00.972801+00:00', 'run_ended_at': '2025-01-17T08:44:00.989487+00:00', 'run_exec_ms': 16, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:44:00.989487Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 157, in do_write\n    raise InvalidUpdateError(\nlanggraph.errors.InvalidUpdateError: Must write to at least one of [\'messages\', \'call\', \'code_output\', \'vizualization\']\nDuring task with name \'__start__\' and id \'69e5ebf7-6c82-fac6-6b04-c537a1c32b8c\''}
NoneType: None
2025-01-17 10:44:00,999 - langgraph_api.queue - ERROR - {'run_id': '1efd4af3-2877-68f6-840c-010acd325129', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:44:00.387915+00:00', 'run_started_at': '2025-01-17T08:44:00.994486+00:00', 'run_ended_at': '2025-01-17T08:44:00.998825+00:00', 'run_exec_ms': 4, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:44:00.998825Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 157, in do_write\n    raise InvalidUpdateError(\nlanggraph.errors.InvalidUpdateError: Must write to at least one of [\'messages\', \'call\', \'code_output\', \'vizualization\']\nDuring task with name \'__start__\' and id \'c8e4f571-c799-afdb-dcc6-e7aa5e793285\''}
NoneType: None
2025-01-17 10:44:01,009 - langgraph_api.queue - ERROR - {'run_id': '1efd4af3-2891-6cdd-af59-e4e7fc941069', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:44:00.398665+00:00', 'run_started_at': '2025-01-17T08:44:01.002247+00:00', 'run_ended_at': '2025-01-17T08:44:01.007762+00:00', 'run_exec_ms': 5, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:44:01.007762Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 157, in do_write\n    raise InvalidUpdateError(\nlanggraph.errors.InvalidUpdateError: Must write to at least one of [\'messages\', \'call\', \'code_output\', \'vizualization\']\nDuring task with name \'__start__\' and id \'899e7783-7ecc-c3b8-f71e-b08690bfd322\''}
NoneType: None
2025-01-17 10:44:01,019 - langgraph_api.queue - ERROR - {'run_id': '1efd4af3-28b4-64f5-a971-90ed0d120072', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:44:00.412798+00:00', 'run_started_at': '2025-01-17T08:44:01.010969+00:00', 'run_ended_at': '2025-01-17T08:44:01.016289+00:00', 'run_exec_ms': 5, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:44:01.016289Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 157, in do_write\n    raise InvalidUpdateError(\nlanggraph.errors.InvalidUpdateError: Must write to at least one of [\'messages\', \'call\', \'code_output\', \'vizualization\']\nDuring task with name \'__start__\' and id \'0b01f6b4-e470-dcb5-5538-b043f1939ff0\''}
NoneType: None
2025-01-17 10:44:01,035 - langgraph_api.queue - ERROR - {'run_id': '1efd4af3-28d5-647f-95ca-dd26db512f52', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:44:00.426303+00:00', 'run_started_at': '2025-01-17T08:44:01.020795+00:00', 'run_ended_at': '2025-01-17T08:44:01.028851+00:00', 'run_exec_ms': 8, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:44:01.028851Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 157, in do_write\n    raise InvalidUpdateError(\nlanggraph.errors.InvalidUpdateError: Must write to at least one of [\'messages\', \'call\', \'code_output\', \'vizualization\']\nDuring task with name \'__start__\' and id \'5ba2a83d-ed5b-d5b3-6b70-aadab230c608\''}
NoneType: None
2025-01-17 10:44:18,524 - langgraph_api.queue - ERROR - {'run_id': '1efd4af3-c1e1-681b-9846-b050c3a1e500', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:44:16.474524+00:00', 'run_started_at': '2025-01-17T08:44:16.756662+00:00', 'run_ended_at': '2025-01-17T08:44:18.518175+00:00', 'run_exec_ms': 1761, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:44:18.518175Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 447, in ainvoke\n    input = await step.ainvoke(input, config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 143, in do_write\n    if ww := w.mapper(w.value):\n             ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\graph\\state.py", line 674, in _get_updates\n    raise InvalidUpdateError(msg)\nlanggraph.errors.InvalidUpdateError: Expected dict, got caller\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_GRAPH_NODE_RETURN_VALUE\nDuring task with name \'planner\' and id \'21d0ebe7-5a13-2259-7406-beb154161c0c\''}
NoneType: None
2025-01-17 10:44:49,013 - langgraph_api.queue - ERROR - {'run_id': '1efd4af4-e5fe-691b-b766-f6374cc3985b', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:44:47.105856+00:00', 'run_started_at': '2025-01-17T08:44:47.257376+00:00', 'run_ended_at': '2025-01-17T08:44:49.011805+00:00', 'run_exec_ms': 1754, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:44:49.011805Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 447, in ainvoke\n    input = await step.ainvoke(input, config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 143, in do_write\n    if ww := w.mapper(w.value):\n             ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\graph\\state.py", line 674, in _get_updates\n    raise InvalidUpdateError(msg)\nlanggraph.errors.InvalidUpdateError: Expected dict, got caller\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_GRAPH_NODE_RETURN_VALUE\nDuring task with name \'planner\' and id \'21d0ebe7-5a13-2259-7406-beb154161c0c\''}
NoneType: None
2025-01-17 10:44:49,025 - langgraph_api.queue - ERROR - {'event': 'Background worker cleanup failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:44:49.015806Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 49, in cleanup\n    result: WorkerResult | None = task.result()\n                                  ^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 299, in worker\n    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 811, in set_status\n    {\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 814, in <dictcomp>\n    if t["interrupts"]\n       ~^^^^^^^^^^^^^^\nKeyError: \'interrupts\''}
Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 49, in cleanup
    result: WorkerResult | None = task.result()
                                  ^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 299, in worker
    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 811, in set_status
    {
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 814, in <dictcomp>
    if t["interrupts"]
       ~^^^^^^^^^^^^^^
KeyError: 'interrupts'
2025-01-17 10:54:34,973 - langgraph_api.queue - ERROR - {'run_id': '1efd4b0a-c063-6f6c-a7df-a1da332d4a8f', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:54:33.719793+00:00', 'run_started_at': '2025-01-17T08:54:33.818092+00:00', 'run_ended_at': '2025-01-17T08:54:34.965466+00:00', 'run_exec_ms': 1147, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:54:34.965466Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'21d5677c-3416-eaa4-64a8-69c047fc3ecf\''}
NoneType: None
2025-01-17 10:55:01,362 - langgraph_api.queue - ERROR - {'run_id': '1efd4b0b-b65b-6f45-9111-58374f36e3f0', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:54:59.512482+00:00', 'run_started_at': '2025-01-17T08:54:59.521750+00:00', 'run_ended_at': '2025-01-17T08:55:01.361969+00:00', 'run_exec_ms': 1840, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:55:01.361969Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 447, in ainvoke\n    input = await step.ainvoke(input, config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 143, in do_write\n    if ww := w.mapper(w.value):\n             ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\graph\\state.py", line 674, in _get_updates\n    raise InvalidUpdateError(msg)\nlanggraph.errors.InvalidUpdateError: Expected dict, got caller\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_GRAPH_NODE_RETURN_VALUE\nDuring task with name \'planner\' and id \'26760bd4-b63d-332d-9786-8abfff31bdd9\''}
NoneType: None
2025-01-17 10:57:04,043 - langgraph_api.queue - ERROR - {'run_id': '1efd4b10-53e5-6b75-ae9d-4e525ec8d0f7', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:57:03.404734+00:00', 'run_started_at': '2025-01-17T08:57:03.756791+00:00', 'run_ended_at': '2025-01-17T08:57:04.038138+00:00', 'run_exec_ms': 281, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:57:04.038138Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'7f9b903d-1303-d9eb-5d5b-fe9ee1b08724\''}
NoneType: None
2025-01-17 10:57:15,722 - langgraph_api.queue - ERROR - {'run_id': '1efd4b10-b647-6107-9d5f-d32714466d62', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:57:13.720653+00:00', 'run_started_at': '2025-01-17T08:57:13.974826+00:00', 'run_ended_at': '2025-01-17T08:57:15.721813+00:00', 'run_exec_ms': 1746, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:57:15.721813Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 447, in ainvoke\n    input = await step.ainvoke(input, config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 143, in do_write\n    if ww := w.mapper(w.value):\n             ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\graph\\state.py", line 674, in _get_updates\n    raise InvalidUpdateError(msg)\nlanggraph.errors.InvalidUpdateError: Expected dict, got caller\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_GRAPH_NODE_RETURN_VALUE\nDuring task with name \'planner\' and id \'7f86fc7e-87ef-0b08-6d0c-a8387439ad06\''}
NoneType: None
2025-01-17 10:59:23,966 - langgraph_api.queue - ERROR - {'run_id': '1efd4b15-6e50-6feb-a1e5-e8a7ea9fc948', 'run_attempt': 1, 'run_created_at': '2025-01-17T08:59:20.392701+00:00', 'run_started_at': '2025-01-17T08:59:21.153425+00:00', 'run_ended_at': '2025-01-17T08:59:23.950919+00:00', 'run_exec_ms': 2797, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T08:59:23.950919Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'e6754f13-f74b-fcf9-b2c4-ac96ff92eb27\''}
NoneType: None
2025-01-17 13:45:18,812 - langgraph_api.queue - ERROR - {'run_id': '1efd4c88-4f4b-6cb1-baad-6e0d8464c070', 'run_attempt': 1, 'run_created_at': '2025-01-17T11:45:16.095403+00:00', 'run_started_at': '2025-01-17T11:45:16.262722+00:00', 'run_ended_at': '2025-01-17T11:45:18.809174+00:00', 'run_exec_ms': 2546, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T11:45:18.809174Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'3af3dead-3f68-8d6f-c848-d25cb2d0c0e0\''}
NoneType: None
2025-01-17 13:52:12,482 - langgraph_api.queue - ERROR - {'run_id': '1efd4c97-a77b-6424-8bc2-2ee23c65188f', 'run_attempt': 1, 'run_created_at': '2025-01-17T11:52:07.997000+00:00', 'run_started_at': '2025-01-17T11:52:08.399571+00:00', 'run_ended_at': '2025-01-17T11:52:12.472538+00:00', 'run_exec_ms': 4072, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T11:52:12.472538Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'bcbc236b-df6a-15a5-3d18-c9a7dce8cc45\''}
NoneType: None
2025-01-17 13:56:18,000 - langgraph_api.queue - ERROR - {'run_id': '1efd4ca0-d8c9-6744-8867-ed8b0d3925eb', 'run_attempt': 1, 'run_created_at': '2025-01-17T11:56:14.757459+00:00', 'run_started_at': '2025-01-17T11:56:14.802048+00:00', 'run_ended_at': '2025-01-17T11:56:17.991449+00:00', 'run_exec_ms': 3189, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T11:56:17.992401Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'17f3c487-64d4-8ca1-aac0-239dff24bbd1\''}
NoneType: None
2025-01-17 14:00:43,568 - langgraph_api.queue - ERROR - {'run_id': '1efd4caa-b0cd-6771-a8b0-f1745c7aff6d', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:00:39.001253+00:00', 'run_started_at': '2025-01-17T12:00:39.340375+00:00', 'run_ended_at': '2025-01-17T12:00:43.561806+00:00', 'run_exec_ms': 4221, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:00:43.561806Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'223dc7c6-f082-f945-67b9-eeb0ce68c760\''}
NoneType: None
2025-01-17 14:08:19,873 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-01-17 14:08:42,476 - langgraph_api.queue - ERROR - {'run_id': '1efd4cbc-90fe-6471-8e7d-ccc206fd6340', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:08:38.849629+00:00', 'run_started_at': '2025-01-17T12:08:39.541055+00:00', 'run_ended_at': '2025-01-17T12:08:42.472409+00:00', 'run_exec_ms': 2931, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:08:42.472409Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'a117c88b-92fc-042b-dd35-fddf673311bb\''}
NoneType: None
2025-01-17 14:12:06,337 - langgraph_api.queue - ERROR - {'run_id': '1efd4cc4-30ea-65d4-b562-3ce8149bccd1', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:12:03.522504+00:00', 'run_started_at': '2025-01-17T12:12:03.625100+00:00', 'run_ended_at': '2025-01-17T12:12:06.329728+00:00', 'run_exec_ms': 2704, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:12:06.329728Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'f9619f73-92f3-4808-8b59-a606b63f3620\''}
NoneType: None
2025-01-17 14:13:18,917 - langgraph_api.queue - ERROR - {'run_id': '1efd4cc6-fcf0-61bc-9fd6-b967154be24b', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:13:18.602898+00:00', 'run_started_at': '2025-01-17T12:13:18.902289+00:00', 'run_ended_at': '2025-01-17T12:13:18.910353+00:00', 'run_exec_ms': 8, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:13:18.910353Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\mainTools.py", line 701, in tool_node\n    for tool_call in last_message.tool_calls:\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'dict\' object has no attribute \'tool_calls\'\nDuring task with name \'tools\' and id \'17e39d77-7481-eeb1-9f73-f3c83f023062\''}
NoneType: None
2025-01-17 14:13:41,659 - langgraph_api.queue - ERROR - {'run_id': '1efd4cc7-b73e-6ecc-bad1-a4ebbb4f8107', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:13:38.138695+00:00', 'run_started_at': '2025-01-17T12:13:38.366137+00:00', 'run_ended_at': '2025-01-17T12:13:41.656056+00:00', 'run_exec_ms': 3289, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:13:41.656056Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'61aaa3dc-a1a5-4c72-aa53-996a3e6badd8\''}
NoneType: None
2025-01-17 14:21:19,078 - langgraph_api.queue - ERROR - {'run_id': '1efd4cd8-dc2a-65e8-8fb5-73faf4328715', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:21:18.350282+00:00', 'run_started_at': '2025-01-17T12:21:19.068951+00:00', 'run_ended_at': '2025-01-17T12:21:19.076952+00:00', 'run_exec_ms': 8, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:21:19.076952Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\mainTools.py", line 701, in tool_node\n    for tool_call in last_message.tool_calls:\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'dict\' object has no attribute \'tool_calls\'\nDuring task with name \'tools\' and id \'9da94eb4-7139-a369-861f-fe7f03cfed1d\''}
NoneType: None
2025-01-17 14:21:30,149 - langgraph_api.queue - ERROR - {'run_id': '1efd4cd9-2901-6074-a695-bde2293fc783', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:21:26.407384+00:00', 'run_started_at': '2025-01-17T12:21:26.803831+00:00', 'run_ended_at': '2025-01-17T12:21:30.142464+00:00', 'run_exec_ms': 3338, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:21:30.142464Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'4dc446d3-0190-f94d-65c3-51c53f5fc6eb\''}
NoneType: None
2025-01-17 14:22:12,152 - langgraph_api.queue - ERROR - {'run_id': '1efd4cda-b95f-68e2-8faa-2da73535aa79', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:22:08.390142+00:00', 'run_started_at': '2025-01-17T12:22:08.931725+00:00', 'run_ended_at': '2025-01-17T12:22:12.145335+00:00', 'run_exec_ms': 3213, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:22:12.145335Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'85bec3d0-498a-cd4e-e608-2fb6648424cc\''}
NoneType: None
2025-01-17 14:22:29,884 - langgraph_api.errors - ERROR - {'event': 'Bad Request Error', 'logger': 'langgraph_api.errors', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:22:29.858365Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\route.py", line 33, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\retry.py", line 23, in wrapper\n    return await func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\api\\threads.py", line 137, in update_thread_state\n    inserted = await Threads.State.post(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 1047, in post\n    next_config = await graph.aupdate_state(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1354, in aupdate_state\n    await run.ainvoke(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 3066, in ainvoke\n    input = await asyncio.create_task(part(), context=context)  # type: ignore\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 157, in do_write\n    raise InvalidUpdateError(\nlanggraph.errors.InvalidUpdateError: Must write to at least one of [\'messages\', \'call\', \'code_output\', \'vizualization\', \'next\']'}
Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    inserted = await Threads.State.post(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    next_config = await graph.aupdate_state(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    await run.ainvoke(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    input = await asyncio.create_task(part(), context=context)  # type: ignore
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\write.py", line 112, in _awrite
    self.do_write(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\write.py", line 157, in do_write
    raise InvalidUpdateError(
langgraph.errors.InvalidUpdateError: Must write to at least one of ['messages', 'call', 'code_output', 'vizualization', 'next']
2025-01-17 14:22:39,418 - langgraph_api.queue - ERROR - {'run_id': '1efd4cdb-bcea-6819-babb-fde15854e422', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:22:35.604175+00:00', 'run_started_at': '2025-01-17T12:22:35.804908+00:00', 'run_ended_at': '2025-01-17T12:22:39.410440+00:00', 'run_exec_ms': 3605, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:22:39.410440Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'c79e88c0-7e30-5001-cd50-ac20ee23ada1\''}
NoneType: None
2025-01-17 14:26:01,459 - langgraph_api.queue - ERROR - {'run_id': '1efd4ce3-46b5-679d-ab04-2eb33165db6b', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:25:57.957622+00:00', 'run_started_at': '2025-01-17T12:25:58.343970+00:00', 'run_ended_at': '2025-01-17T12:26:01.452556+00:00', 'run_exec_ms': 3108, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:26:01.452556Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'bf8730e6-94d2-6ed8-4db6-21cea773bff1\''}
NoneType: None
2025-01-17 14:26:43,576 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 4, in <module>
    from caller import caller_node
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\caller.py", line 2, in <module>
    from mainTools import tools
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\mainTools.py", line 22, in <module>
    def create_line_plot(x: str, y: str, color: str = None, labels: Dict[str, str] = Dict(), title: Optional[str] = None, project_id: Optional[str] = None) -> Dict:
                                                                                     ^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\typing.py", line 1287, in __call__
    raise TypeError(f"Type {self._name} cannot be instantiated; "
TypeError: Type Dict cannot be instantiated; use dict() instead

2025-01-17 14:26:43,577 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 14:27:15,144 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 4, in <module>
    from caller import caller_node
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\caller.py", line 2, in <module>
    from mainTools import tools
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\mainTools.py", line 21, in <module>
    @tool
     ^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\tools\convert.py", line 304, in tool
    return _create_tool_factory(name_or_callable.__name__)(name_or_callable)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\tools\convert.py", line 249, in _tool_factory
    return StructuredTool.from_function(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\tools\structured.py", line 176, in from_function
    args_schema = create_schema_from_function(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\tools\base.py", line 249, in create_schema_from_function
    validated = validate_arguments(func, config=_SchemaConfig)  # type: ignore
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\deprecated\decorator.py", line 64, in validate_arguments
    return validate(func)
           ^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\deprecated\decorator.py", line 51, in validate
    vd = ValidatedFunction(_func, config)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\deprecated\decorator.py", line 142, in __init__
    self.create_model(fields, takes_args, takes_kwargs, config)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\deprecated\decorator.py", line 279, in create_model
    self.model = create_model(to_pascal(self.raw_function.__name__), __base__=DecoratorBaseModel, **fields)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\main.py", line 1570, in create_model
    return meta(
           ^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_model_construction.py", line 200, in __new__
    set_model_fields(cls, bases, config_wrapper, types_namespace)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_model_construction.py", line 469, in set_model_fields
    fields, class_vars = collect_model_fields(cls, bases, config_wrapper, types_namespace, typevars_map=typevars_map)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_fields.py", line 231, in collect_model_fields
    field_info = FieldInfo.from_annotated_attribute(ann_type, default)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\fields.py", line 359, in from_annotated_attribute
    raise PydanticUserError(
pydantic.errors.PydanticUserError: Error when building FieldInfo from annotated attribute. Make sure you don't have any field name clashing with a type annotation 

For further information visit https://errors.pydantic.dev/2.8/u/unevaluable-type-annotation

2025-01-17 14:27:15,144 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 14:28:49,094 - langgraph_api.queue - ERROR - {'run_id': '1efd4ce9-8848-6c79-8d12-0ab909ac85d8', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:28:45.894975+00:00', 'run_started_at': '2025-01-17T12:28:45.945982+00:00', 'run_ended_at': '2025-01-17T12:28:49.087102+00:00', 'run_exec_ms': 3141, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:28:49.087102Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'9d134514-817e-9ff1-b915-41d5b40e03c3\''}
NoneType: None
2025-01-17 14:29:32,456 - langgraph_api.queue - ERROR - {'run_id': '1efd4ceb-288b-60fa-b30b-10762a794fca', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:29:29.542885+00:00', 'run_started_at': '2025-01-17T12:29:29.756004+00:00', 'run_ended_at': '2025-01-17T12:29:32.451317+00:00', 'run_exec_ms': 2695, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:29:32.451317Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'2ab9a6dc-6a44-8f5a-2623-a44047c75f6c\''}
NoneType: None
2025-01-17 14:30:28,185 - langgraph_api.queue - ERROR - {'run_id': '1efd4ced-3298-636b-a6d6-dfb91de7fe1a', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:30:24.283940+00:00', 'run_started_at': '2025-01-17T12:30:25.111871+00:00', 'run_ended_at': '2025-01-17T12:30:28.172460+00:00', 'run_exec_ms': 3060, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:30:28.172460Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'d79a5450-1f84-2c47-eea5-d74702d228eb\''}
NoneType: None
2025-01-17 14:31:20,865 - langgraph_api.queue - ERROR - {'run_id': '1efd4cef-3312-6f57-a2ab-6f104a3d788c', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:31:18.021307+00:00', 'run_started_at': '2025-01-17T12:31:18.420620+00:00', 'run_ended_at': '2025-01-17T12:31:20.860139+00:00', 'run_exec_ms': 2439, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:31:20.860139Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'d79a5450-1f84-2c47-eea5-d74702d228eb\''}
NoneType: None
2025-01-17 14:31:20,871 - langgraph_api.queue - ERROR - {'event': 'Background worker cleanup failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:31:20.869634Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 49, in cleanup\n    result: WorkerResult | None = task.result()\n                                  ^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 299, in worker\n    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 811, in set_status\n    {\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 814, in <dictcomp>\n    if t["interrupts"]\n       ~^^^^^^^^^^^^^^\nKeyError: \'interrupts\''}
Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 49, in cleanup
    result: WorkerResult | None = task.result()
                                  ^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 299, in worker
    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 811, in set_status
    {
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 814, in <dictcomp>
    if t["interrupts"]
       ~^^^^^^^^^^^^^^
KeyError: 'interrupts'
2025-01-17 14:36:16,963 - langgraph_api.queue - ERROR - {'run_id': '1efd4cfa-5409-67f3-9837-d959ed2d15f4', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:36:16.756734+00:00', 'run_started_at': '2025-01-17T12:36:16.798718+00:00', 'run_ended_at': '2025-01-17T12:36:16.949849+00:00', 'run_exec_ms': 151, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:36:16.950836Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\mainTools.py", line 701, in tool_node\n    for tool_call in last_message.tool_calls:\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'dict\' object has no attribute \'tool_calls\'\nDuring task with name \'tools\' and id \'22c3fc1f-6721-bff4-8ab1-58aa2aec87d5\''}
NoneType: None
2025-01-17 14:36:23,348 - langgraph_api.queue - ERROR - {'run_id': '1efd4cfa-8c0c-60ad-83bf-b73c161d50c8', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:36:22.630820+00:00', 'run_started_at': '2025-01-17T12:36:23.334096+00:00', 'run_ended_at': '2025-01-17T12:36:23.345359+00:00', 'run_exec_ms': 11, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:36:23.345359Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\mainTools.py", line 701, in tool_node\n    for tool_call in last_message.tool_calls:\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'dict\' object has no attribute \'tool_calls\'\nDuring task with name \'tools\' and id \'22c3fc1f-6721-bff4-8ab1-58aa2aec87d5\''}
NoneType: None
2025-01-17 14:36:23,356 - langgraph_api.queue - ERROR - {'event': 'Background worker cleanup failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:36:23.352895Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 49, in cleanup\n    result: WorkerResult | None = task.result()\n                                  ^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 299, in worker\n    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 811, in set_status\n    {\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 814, in <dictcomp>\n    if t["interrupts"]\n       ~^^^^^^^^^^^^^^\nKeyError: \'interrupts\''}
Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 49, in cleanup
    result: WorkerResult | None = task.result()
                                  ^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 299, in worker
    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 811, in set_status
    {
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 814, in <dictcomp>
    if t["interrupts"]
       ~^^^^^^^^^^^^^^
KeyError: 'interrupts'
2025-01-17 14:36:38,009 - langgraph_api.queue - ERROR - {'run_id': '1efd4cfb-0016-6d67-accd-48949c53e43b', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:36:34.797706+00:00', 'run_started_at': '2025-01-17T12:36:35.241072+00:00', 'run_ended_at': '2025-01-17T12:36:38.007092+00:00', 'run_exec_ms': 2766, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:36:38.007092Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'e8999907-d75a-adee-bafb-26acaf21c6a9\''}
NoneType: None
2025-01-17 14:38:44,204 - langgraph_api.queue - ERROR - {'run_id': '1efd4cff-ae99-6bf5-8746-de5b640ea81c', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:38:40.471738+00:00', 'run_started_at': '2025-01-17T12:38:41.184164+00:00', 'run_ended_at': '2025-01-17T12:38:44.195942+00:00', 'run_exec_ms': 3011, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:38:44.195942Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[7].parameters.properties[path_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'8e06fd6b-b842-0eb1-a554-0794bdb84bb8\''}
NoneType: None
2025-01-17 14:39:00,477 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-01-17 14:42:06,691 - langgraph_api.queue - ERROR - {'run_id': '1efd4d07-5b6b-67ae-93eb-0b95327701be', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:42:06.498095+00:00', 'run_started_at': '2025-01-17T12:42:06.678026+00:00', 'run_ended_at': '2025-01-17T12:42:06.687048+00:00', 'run_exec_ms': 9, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:42:06.687048Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\mainTools.py", line 701, in tool_node\n    for tool_call in last_message.tool_calls:\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'dict\' object has no attribute \'tool_calls\'\nDuring task with name \'tools\' and id \'779ec763-55a4-51a6-4d3b-f085874e1eee\''}
NoneType: None
2025-01-17 14:42:17,538 - langgraph_api.queue - ERROR - {'run_id': '1efd4d07-980e-6ae3-b2a9-7448a013c9f7', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:42:12.855267+00:00', 'run_started_at': '2025-01-17T12:42:12.928367+00:00', 'run_ended_at': '2025-01-17T12:42:17.535891+00:00', 'run_exec_ms': 4607, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:42:17.536890Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'05228b03-6b0d-60ff-7deb-95b0b0a0f168\''}
NoneType: None
2025-01-17 14:46:38,786 - uvicorn.error - ERROR - Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\anyio\_backends\_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\protocols\http\httptools_impl.py", line 399, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\middleware\proxy_headers.py", line 70, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_license\middleware.py", line 20, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 60, in __call__
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 54, in __call__
    |     await self.app(scope, inner_receive, inner_send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 460, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\auth\middleware.py", line 45, in __call__
    |     return await super().__call__(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\authentication.py", line 48, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 120, in handle
    |     return await super().handle(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 38, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    |     return await func(*args, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    |     inserted = await Threads.State.post(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    |     next_config = await graph.aupdate_state(
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    |     await run.ainvoke(
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    |     input = await asyncio.create_task(part(), context=context)  # type: ignore
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 236, in ainvoke
    |     ret = await asyncio.create_task(coro, context=context)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 116, in _aroute
    |     result = await self.path.ainvoke(value, config)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    |     ret = await asyncio.create_task(coro, context=context)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    |     return await asyncio.get_running_loop().run_in_executor(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    |     result = self.fn(*self.args, **self.kwargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    |     return func(*args, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\planner.py", line 26, in planner_brancher
    |     return state['next']
    |            ~~~~~^^^^^^^^
    | KeyError: 'next'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\protocols\http\httptools_impl.py", line 399, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\middleware\proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_license\middleware.py", line 20, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 60, in __call__
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 54, in __call__
    await self.app(scope, inner_receive, inner_send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 460, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\auth\middleware.py", line 45, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\authentication.py", line 48, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 120, in handle
    return await super().handle(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 38, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    inserted = await Threads.State.post(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    next_config = await graph.aupdate_state(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    await run.ainvoke(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    input = await asyncio.create_task(part(), context=context)  # type: ignore
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 236, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 116, in _aroute
    result = await self.path.ainvoke(value, config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\planner.py", line 26, in planner_brancher
    return state['next']
           ~~~~~^^^^^^^^
KeyError: 'next'
2025-01-17 14:46:40,454 - uvicorn.error - ERROR - Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\anyio\_backends\_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\protocols\http\httptools_impl.py", line 399, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\middleware\proxy_headers.py", line 70, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_license\middleware.py", line 20, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 60, in __call__
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 54, in __call__
    |     await self.app(scope, inner_receive, inner_send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 460, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\auth\middleware.py", line 45, in __call__
    |     return await super().__call__(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\authentication.py", line 48, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 120, in handle
    |     return await super().handle(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 38, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    |     return await func(*args, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    |     inserted = await Threads.State.post(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    |     next_config = await graph.aupdate_state(
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    |     await run.ainvoke(
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    |     input = await asyncio.create_task(part(), context=context)  # type: ignore
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 236, in ainvoke
    |     ret = await asyncio.create_task(coro, context=context)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 116, in _aroute
    |     result = await self.path.ainvoke(value, config)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    |     ret = await asyncio.create_task(coro, context=context)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    |     return await asyncio.get_running_loop().run_in_executor(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    |     result = self.fn(*self.args, **self.kwargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    |     return func(*args, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\planner.py", line 26, in planner_brancher
    |     return state['next']
    |            ~~~~~^^^^^^^^
    | KeyError: 'next'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\protocols\http\httptools_impl.py", line 399, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\middleware\proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_license\middleware.py", line 20, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 60, in __call__
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 54, in __call__
    await self.app(scope, inner_receive, inner_send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 460, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\auth\middleware.py", line 45, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\authentication.py", line 48, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 120, in handle
    return await super().handle(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 38, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    inserted = await Threads.State.post(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    next_config = await graph.aupdate_state(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    await run.ainvoke(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    input = await asyncio.create_task(part(), context=context)  # type: ignore
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 236, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 116, in _aroute
    result = await self.path.ainvoke(value, config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\planner.py", line 26, in planner_brancher
    return state['next']
           ~~~~~^^^^^^^^
KeyError: 'next'
2025-01-17 14:46:43,469 - uvicorn.error - ERROR - Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\anyio\_backends\_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\protocols\http\httptools_impl.py", line 399, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\middleware\proxy_headers.py", line 70, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_license\middleware.py", line 20, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 60, in __call__
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 54, in __call__
    |     await self.app(scope, inner_receive, inner_send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 460, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\auth\middleware.py", line 45, in __call__
    |     return await super().__call__(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\authentication.py", line 48, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 120, in handle
    |     return await super().handle(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 38, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    |     return await func(*args, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    |     inserted = await Threads.State.post(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    |     next_config = await graph.aupdate_state(
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    |     await run.ainvoke(
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    |     input = await asyncio.create_task(part(), context=context)  # type: ignore
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 236, in ainvoke
    |     ret = await asyncio.create_task(coro, context=context)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 116, in _aroute
    |     result = await self.path.ainvoke(value, config)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    |     ret = await asyncio.create_task(coro, context=context)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    |     return await asyncio.get_running_loop().run_in_executor(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    |     result = self.fn(*self.args, **self.kwargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    |     return func(*args, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\planner.py", line 26, in planner_brancher
    |     return state['next']
    |            ~~~~~^^^^^^^^
    | KeyError: 'next'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\protocols\http\httptools_impl.py", line 399, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\middleware\proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_license\middleware.py", line 20, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 60, in __call__
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 54, in __call__
    await self.app(scope, inner_receive, inner_send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 460, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\auth\middleware.py", line 45, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\authentication.py", line 48, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 120, in handle
    return await super().handle(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 38, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    inserted = await Threads.State.post(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    next_config = await graph.aupdate_state(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    await run.ainvoke(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    input = await asyncio.create_task(part(), context=context)  # type: ignore
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 236, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 116, in _aroute
    result = await self.path.ainvoke(value, config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\planner.py", line 26, in planner_brancher
    return state['next']
           ~~~~~^^^^^^^^
KeyError: 'next'
2025-01-17 14:46:48,280 - uvicorn.error - ERROR - Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\anyio\_backends\_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\protocols\http\httptools_impl.py", line 399, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\middleware\proxy_headers.py", line 70, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_license\middleware.py", line 20, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 60, in __call__
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 54, in __call__
    |     await self.app(scope, inner_receive, inner_send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 460, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\auth\middleware.py", line 45, in __call__
    |     return await super().__call__(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\authentication.py", line 48, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 120, in handle
    |     return await super().handle(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 38, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    |     return await func(*args, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    |     inserted = await Threads.State.post(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    |     next_config = await graph.aupdate_state(
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    |     await run.ainvoke(
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    |     input = await asyncio.create_task(part(), context=context)  # type: ignore
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 236, in ainvoke
    |     ret = await asyncio.create_task(coro, context=context)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 116, in _aroute
    |     result = await self.path.ainvoke(value, config)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    |     ret = await asyncio.create_task(coro, context=context)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    |     return await asyncio.get_running_loop().run_in_executor(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    |     result = self.fn(*self.args, **self.kwargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    |     return func(*args, **kwargs)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\planner.py", line 26, in planner_brancher
    |     return state['next']
    |            ~~~~~^^^^^^^^
    | KeyError: 'next'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\protocols\http\httptools_impl.py", line 399, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\middleware\proxy_headers.py", line 70, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_license\middleware.py", line 20, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 60, in __call__
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\http_logger.py", line 54, in __call__
    await self.app(scope, inner_receive, inner_send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 460, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\auth\middleware.py", line 45, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\middleware\authentication.py", line 48, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 120, in handle
    return await super().handle(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 38, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\route.py", line 33, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\retry.py", line 23, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\api\threads.py", line 137, in update_thread_state
    inserted = await Threads.State.post(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 1047, in post
    next_config = await graph.aupdate_state(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\pregel\__init__.py", line 1354, in aupdate_state
    await run.ainvoke(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\base.py", line 3066, in ainvoke
    input = await asyncio.create_task(part(), context=context)  # type: ignore
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 236, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\graph\graph.py", line 116, in _aroute
    result = await self.path.ainvoke(value, config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph\utils\runnable.py", line 224, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\planner.py", line 26, in planner_brancher
    return state['next']
           ~~~~~^^^^^^^^
KeyError: 'next'
2025-01-17 14:46:51,366 - langgraph_api.queue - ERROR - {'run_id': '1efd4d11-d7a7-676d-880a-d40bebf7954e', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:46:47.960331+00:00', 'run_started_at': '2025-01-17T12:46:48.303985+00:00', 'run_ended_at': '2025-01-17T12:46:51.361222+00:00', 'run_exec_ms': 3057, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:46:51.361222Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'5b2ac401-b4cc-d6d7-08ea-a7f825f77cf0\''}
NoneType: None
2025-01-17 14:46:58,923 - langgraph_api.queue - ERROR - {'run_id': '1efd4d12-27e2-6f16-bac6-a1c163a895e0', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:46:56.372303+00:00', 'run_started_at': '2025-01-17T12:46:56.881851+00:00', 'run_ended_at': '2025-01-17T12:46:58.919722+00:00', 'run_exec_ms': 2037, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:46:58.919722Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[14].parameters.properties[hover_data].items: missing field.\n\nDuring task with name \'caller\' and id \'d3ee4ee9-3db4-fc65-44f0-03af1b6b6d08\''}
NoneType: None
2025-01-17 14:47:40,499 - langgraph_api.queue - ERROR - {'run_id': '1efd4d13-aa95-66fa-92d5-9b412a6f249a', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:47:36.920447+00:00', 'run_started_at': '2025-01-17T12:47:37.713966+00:00', 'run_ended_at': '2025-01-17T12:47:40.493892+00:00', 'run_exec_ms': 2779, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:47:40.493892Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n\nDuring task with name \'caller\' and id \'c88a0220-d89b-7bf5-52d5-1ffef1f19510\''}
NoneType: None
2025-01-17 14:48:50,270 - langgraph_api.queue - ERROR - {'run_id': '1efd4d16-4a90-6280-ac71-955778a9eb1e', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:48:47.382592+00:00', 'run_started_at': '2025-01-17T12:48:48.053745+00:00', 'run_ended_at': '2025-01-17T12:48:50.251908+00:00', 'run_exec_ms': 2198, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:48:50.251908Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[5].parameters.properties[dimensions].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[6].parameters.properties[value_columns].items: missing field.\n* GenerateContentRequest.tools[0].function_declarations[8].parameters.properties[columns].items: missing field.\n\nDuring task with name \'caller\' and id \'2488744f-a555-5b77-1c98-bd5575020da8\''}
NoneType: None
2025-01-17 14:50:05,846 - langgraph_api.queue - ERROR - {'run_id': '1efd4d19-35ea-695e-a987-1de994fa4fec', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:50:05.749257+00:00', 'run_started_at': '2025-01-17T12:50:05.831579+00:00', 'run_ended_at': '2025-01-17T12:50:05.842719+00:00', 'run_exec_ms': 11, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:50:05.842719Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\mainTools.py", line 701, in tool_node\n    for tool_call in last_message.tool_calls:\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'dict\' object has no attribute \'tool_calls\'\nDuring task with name \'tools\' and id \'4ad14aed-43f3-2bda-26ee-fd920ae4f077\''}
NoneType: None
2025-01-17 14:50:16,857 - langgraph_api.queue - ERROR - {'run_id': '1efd4d19-8402-6c81-9b2b-6f0b2c6e1ede', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:50:13.937062+00:00', 'run_started_at': '2025-01-17T12:50:14.100118+00:00', 'run_ended_at': '2025-01-17T12:50:16.852847+00:00', 'run_exec_ms': 2752, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:50:16.852847Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'50a306f1-6553-c374-fb90-1e1cfb12e0d2\''}
NoneType: None
2025-01-17 14:53:09,924 - langgraph_api.queue - ERROR - {'run_id': '1efd4d1f-edc2-6156-a445-5ad336325b5a', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:53:06.086741+00:00', 'run_started_at': '2025-01-17T12:53:06.462976+00:00', 'run_ended_at': '2025-01-17T12:53:09.918234+00:00', 'run_exec_ms': 3455, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:53:09.919243Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'091206be-0b96-f6ab-4dd9-293d5d18034a\''}
NoneType: None
2025-01-17 14:55:33,489 - langgraph_api.queue - ERROR - {'run_id': '1efd4d25-4a99-6373-bb40-eb81ff2cd777', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:55:30.040486+00:00', 'run_started_at': '2025-01-17T12:55:30.445802+00:00', 'run_ended_at': '2025-01-17T12:55:33.475979+00:00', 'run_exec_ms': 3030, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:55:33.476978Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'ab6685aa-9527-6696-aff3-a4778c11b6c5\''}
NoneType: None
2025-01-17 14:56:58,517 - langgraph_api.queue - ERROR - {'run_id': '1efd4d28-84e0-6f89-9452-863b4307253e', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:56:56.682255+00:00', 'run_started_at': '2025-01-17T12:56:56.947641+00:00', 'run_ended_at': '2025-01-17T12:56:58.511814+00:00', 'run_exec_ms': 1564, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:56:58.511814Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[x].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'ab6685aa-9527-6696-aff3-a4778c11b6c5\''}
NoneType: None
2025-01-17 14:56:58,521 - langgraph_api.queue - ERROR - {'event': 'Background worker cleanup failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:56:58.520330Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 49, in cleanup\n    result: WorkerResult | None = task.result()\n                                  ^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 299, in worker\n    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 811, in set_status\n    {\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 814, in <dictcomp>\n    if t["interrupts"]\n       ~^^^^^^^^^^^^^^\nKeyError: \'interrupts\''}
Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 49, in cleanup
    result: WorkerResult | None = task.result()
                                  ^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 299, in worker
    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 811, in set_status
    {
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 814, in <dictcomp>
    if t["interrupts"]
       ~^^^^^^^^^^^^^^
KeyError: 'interrupts'
2025-01-17 14:59:46,537 - langgraph_api.queue - ERROR - {'run_id': '1efd4d2e-b9e8-6333-b724-7e4f3a72f891', 'run_attempt': 1, 'run_created_at': '2025-01-17T12:59:43.302942+00:00', 'run_started_at': '2025-01-17T12:59:43.633892+00:00', 'run_ended_at': '2025-01-17T12:59:46.522890+00:00', 'run_exec_ms': 2888, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T12:59:46.522890Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'d303fc5b-9c42-741a-7a25-2a14b97be2af\''}
NoneType: None
2025-01-17 15:00:45,266 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 4, in <module>
    from caller import caller_node
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\caller.py", line 2, in <module>
    from mainTools import tools
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\mainTools.py", line 23, in <module>
    @tool
     ^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\tools\convert.py", line 304, in tool
    return _create_tool_factory(name_or_callable.__name__)(name_or_callable)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\tools\convert.py", line 249, in _tool_factory
    return StructuredTool.from_function(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\tools\structured.py", line 176, in from_function
    args_schema = create_schema_from_function(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\tools\base.py", line 249, in create_schema_from_function
    validated = validate_arguments(func, config=_SchemaConfig)  # type: ignore
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\deprecated\decorator.py", line 64, in validate_arguments
    return validate(func)
           ^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\deprecated\decorator.py", line 51, in validate
    vd = ValidatedFunction(_func, config)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\deprecated\decorator.py", line 142, in __init__
    self.create_model(fields, takes_args, takes_kwargs, config)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\deprecated\decorator.py", line 279, in create_model
    self.model = create_model(to_pascal(self.raw_function.__name__), __base__=DecoratorBaseModel, **fields)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\main.py", line 1570, in create_model
    return meta(
           ^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_model_construction.py", line 205, in __new__
    complete_model_class(
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_model_construction.py", line 534, in complete_model_class
    schema = cls.__get_pydantic_core_schema__(cls, handler)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\main.py", line 643, in __get_pydantic_core_schema__
    return handler(source)
           ^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_schema_generation_shared.py", line 83, in __call__
    schema = self._handler(source_type)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 512, in generate_schema
    schema = self._generate_schema_inner(obj)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 784, in _generate_schema_inner
    return self._model_schema(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 591, in _model_schema
    {k: self._generate_md_field_schema(k, v, decorators) for k, v in fields.items()},
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 591, in <dictcomp>
    {k: self._generate_md_field_schema(k, v, decorators) for k, v in fields.items()},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 947, in _generate_md_field_schema
    common_field = self._common_field_schema(name, field_info, decorators)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 1134, in _common_field_schema
    schema = self._apply_annotations(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 1890, in _apply_annotations
    schema = get_inner_schema(source_type)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_schema_generation_shared.py", line 83, in __call__
    schema = self._handler(source_type)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 1871, in inner_handler
    schema = self._generate_schema_inner(obj)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 789, in _generate_schema_inner
    return self.match_type(obj)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 837, in match_type
    return self._typed_dict_schema(obj, None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pydantic\_internal\_generate_schema.py", line 1283, in _typed_dict_schema
    raise PydanticUserError(
pydantic.errors.PydanticUserError: Please use `typing_extensions.TypedDict` instead of `typing.TypedDict` on Python < 3.12.

For further information visit https://errors.pydantic.dev/2.8/u/typed-dict-version

2025-01-17 15:00:45,269 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 15:01:55,298 - langgraph_api.queue - ERROR - {'run_id': '1efd4d33-9a30-6bf3-bd61-a840bdb575c0', 'run_attempt': 1, 'run_created_at': '2025-01-17T13:01:54.194942+00:00', 'run_started_at': '2025-01-17T13:01:54.276040+00:00', 'run_ended_at': '2025-01-17T13:01:55.295182+00:00', 'run_exec_ms': 1019, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:01:55.295182Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].type: must be specified when not using one_of\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'36f85a3c-26ee-44bd-66cc-80d160f091b5\''}
NoneType: None
2025-01-17 15:05:33,150 - langgraph_api.queue - ERROR - {'run_id': '1efd4d3b-a8f0-67a4-961d-c8629cfd58c5', 'run_attempt': 1, 'run_created_at': '2025-01-17T13:05:30.490854+00:00', 'run_started_at': '2025-01-17T13:05:30.866947+00:00', 'run_ended_at': '2025-01-17T13:05:33.138826+00:00', 'run_exec_ms': 2271, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:05:33.140829Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].type: must be specified when not using one_of\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'a87976cf-a084-a62e-9aed-f73389641952\''}
NoneType: None
2025-01-17 15:06:08,069 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 4, in <module>
    from caller import caller_node
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\caller.py", line 2, in <module>
    from mainTools import tools
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\mainTools.py", line 26, in <module>
    def create_line_plot(x: str, y: str, color: str = None,labels:Dict[Labels] = None, title: Optional[str] = None, project_id: Optional[str] = None) -> Dict:
                                                                  ~~~~^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\typing.py", line 379, in inner
    return func(*args, **kwds)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\typing.py", line 1592, in __getitem__
    _check_generic(self, params, self._nparams)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\typing_extensions.py", line 2724, in _check_generic
    raise TypeError(f"Too {'many' if alen > elen else 'few'} arguments"
TypeError: Too few arguments for typing.Dict; actual 1, expected 2

2025-01-17 15:06:08,070 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 15:06:35,938 - langgraph_api.queue - ERROR - {'run_id': '1efd4d3d-f51e-6dbc-a383-9b2a85d76299', 'run_attempt': 1, 'run_created_at': '2025-01-17T13:06:32.166616+00:00', 'run_started_at': '2025-01-17T13:06:32.882841+00:00', 'run_ended_at': '2025-01-17T13:06:35.926106+00:00', 'run_exec_ms': 3043, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:06:35.926106Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'29f1fab6-c399-3b73-cdd2-cc791839b659\''}
NoneType: None
2025-01-17 15:12:20,045 - langgraph_api.queue - ERROR - {'run_id': '1efd4d4a-c809-6975-8146-2505ae25a114', 'run_attempt': 1, 'run_created_at': '2025-01-17T13:12:16.403902+00:00', 'run_started_at': '2025-01-17T13:12:17.193649+00:00', 'run_ended_at': '2025-01-17T13:12:20.041741+00:00', 'run_exec_ms': 2848, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:12:20.042743Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'e309e922-71b3-8063-698b-e604c206d049\''}
NoneType: None
2025-01-17 15:15:32,084 - langgraph_api.queue - ERROR - {'run_id': '1efd4d51-ee16-64fd-8bba-a4e9b19da8a9', 'run_attempt': 1, 'run_created_at': '2025-01-17T13:15:28.298521+00:00', 'run_started_at': '2025-01-17T13:15:29.163788+00:00', 'run_ended_at': '2025-01-17T13:15:32.076908+00:00', 'run_exec_ms': 2913, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:15:32.076908Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[x].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'b703fbc6-dc17-2c71-473e-4d22ae5f3e49\''}
NoneType: None
2025-01-17 15:16:22,564 - langgraph_api.queue - ERROR - {'run_id': '1efd4d53-dcc4-635c-8f2c-7bdf0381f12f', 'run_attempt': 1, 'run_created_at': '2025-01-17T13:16:20.169404+00:00', 'run_started_at': '2025-01-17T13:16:20.366041+00:00', 'run_ended_at': '2025-01-17T13:16:22.560229+00:00', 'run_exec_ms': 2194, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:16:22.560229Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[x].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'f91219d6-056c-22a5-1820-4925c1cdeae6\''}
NoneType: None
2025-01-17 15:16:30,533 - langgraph_api.queue - ERROR - {'run_id': '1efd4d54-3064-6604-b6ef-6d9d38aa8964', 'run_attempt': 1, 'run_created_at': '2025-01-17T13:16:28.938189+00:00', 'run_started_at': '2025-01-17T13:16:29.520975+00:00', 'run_ended_at': '2025-01-17T13:16:30.530446+00:00', 'run_exec_ms': 1009, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:16:30.530446Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'f91219d6-056c-22a5-1820-4925c1cdeae6\''}
NoneType: None
2025-01-17 15:16:30,538 - langgraph_api.queue - ERROR - {'event': 'Background worker cleanup failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:16:30.537454Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 49, in cleanup\n    result: WorkerResult | None = task.result()\n                                  ^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 299, in worker\n    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 811, in set_status\n    {\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_storage\\ops.py", line 814, in <dictcomp>\n    if t["interrupts"]\n       ~^^^^^^^^^^^^^^\nKeyError: \'interrupts\''}
Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 49, in cleanup
    result: WorkerResult | None = task.result()
                                  ^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\queue.py", line 299, in worker
    await Threads.set_status(conn, run["thread_id"], checkpoint, exception)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 811, in set_status
    {
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_storage\ops.py", line 814, in <dictcomp>
    if t["interrupts"]
       ~^^^^^^^^^^^^^^
KeyError: 'interrupts'
2025-01-17 15:17:19,764 - langgraph_api.queue - ERROR - {'run_id': '1efd4d55-f372-63d8-8446-f542c5c9bc38', 'run_attempt': 1, 'run_created_at': '2025-01-17T13:17:16.235644+00:00', 'run_started_at': '2025-01-17T13:17:16.752919+00:00', 'run_ended_at': '2025-01-17T13:17:19.757373+00:00', 'run_exec_ms': 3004, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T13:17:19.758376Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[1].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[2].parameters.properties[labels].properties: should be non-empty for OBJECT type\n* GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'a914e3e1-81ff-9c9d-64f3-0809d36dc511\''}
NoneType: None
2025-01-17 15:42:32,309 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 4, in <module>
    from caller import caller_node
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\caller.py", line 2, in <module>
    from mainTools import tools
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\mainTools.py", line 24, in <module>
    def create_line_plot(x: str, y: str, color: str = None,labels: Dict[int] = None, title: Optional[str] = None, project_id: Optional[str] = None) -> Dict:
                                                                   ~~~~^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\typing.py", line 379, in inner
    return func(*args, **kwds)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\typing.py", line 1592, in __getitem__
    _check_generic(self, params, self._nparams)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\typing_extensions.py", line 2724, in _check_generic
    raise TypeError(f"Too {'many' if alen > elen else 'few'} arguments"
TypeError: Too few arguments for typing.Dict; actual 1, expected 2

2025-01-17 15:42:32,310 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 17:00:26,325 - langgraph_api.queue - ERROR - {'run_id': '1efd4e3c-6b34-67d5-b21e-01b3682e31df', 'run_attempt': 1, 'run_created_at': '2025-01-17T15:00:22.807752+00:00', 'run_started_at': '2025-01-17T15:00:22.928759+00:00', 'run_ended_at': '2025-01-17T15:00:26.277297+00:00', 'run_exec_ms': 3348, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T15:00:26.277297Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 390, in <lambda>\n    self._add_action_func(lambda rs: rs.outcome.result())\n                                     ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 190, in _chat_with_retry\n    raise ChatGoogleGenerativeAIError(\nlangchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Invalid argument provided to Gemini: 400 * GenerateContentRequest.tools[0].function_declarations[3].parameters.properties[labels].properties: should be non-empty for OBJECT type\n\nDuring task with name \'caller\' and id \'03c8c684-8916-6d7c-cc29-26938aedc860\''}
NoneType: None
2025-01-17 17:02:11,125 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:02:12,900 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:02:14,976 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:02:19,786 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:04:09,652 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:08:44,787 - langgraph_api.queue - ERROR - {'run_id': '1efd4e4e-e9c6-6d87-94ec-765953eec9b6', 'run_attempt': 1, 'run_created_at': '2025-01-17T15:08:39.264578+00:00', 'run_started_at': '2025-01-17T15:08:39.564509+00:00', 'run_ended_at': '2025-01-17T15:08:44.782634+00:00', 'run_exec_ms': 5218, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T15:08:44.782634Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\caller.py", line 22, in caller_node\n    response = model_with_tools.invoke(messages)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\base.py", line 5354, in invoke\n    return self.bound.invoke(\n           ^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 286, in invoke\n    self.generate_prompt(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 786, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 643, in generate\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 633, in generate\n    self._generate_with_cache(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\language_models\\chat_models.py", line 839, in _generate_with_cache\n    for chunk in self._stream(messages, stop=stop, **kwargs):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 1029, in _stream\n    response: GenerateContentResponse = _chat_with_retry(\n                                        ^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 196, in _chat_with_retry\n    return _chat_with_retry(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 330, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 467, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 368, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 410, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 183, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\_base.py", line 401, in __get_result\n    raise self._exception\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\tenacity\\__init__.py", line 470, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 194, in _chat_with_retry\n    raise e\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_google_genai\\chat_models.py", line 178, in _chat_with_retry\n    return generation_method(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\client.py", line 1134, in stream_generate_content\n    response = rpc(\n               ^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\google\\api_core\\gapic_v1\\method.py", line 131, in __call__\n    return wrapped_func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\google\\api_core\\retry\\retry_unary.py", line 293, in retry_wrapped_func\n    return retry_target(\n           ^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\google\\api_core\\retry\\retry_unary.py", line 153, in retry_target\n    _retry_error_helper(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\google\\api_core\\retry\\retry_base.py", line 212, in _retry_error_helper\n    raise final_exc from source_exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\google\\api_core\\retry\\retry_unary.py", line 144, in retry_target\n    result = target()\n             ^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\google\\api_core\\timeout.py", line 120, in func_with_timeout\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\google\\api_core\\grpc_helpers.py", line 174, in error_remapped_callable\n    raise exceptions.from_grpc_error(exc) from exc\ngoogle.api_core.exceptions.ResourceExhausted: 429 Resource has been exhausted (e.g. check quota).\nDuring task with name \'caller\' and id \'47d1f35c-07c2-f290-febe-c2568d3bc1f7\''}
NoneType: None
2025-01-17 17:17:28,938 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:24:04,818 - langgraph_api.queue - ERROR - {'run_id': '1efd4e71-5edd-64ad-98c1-022be1520d9f', 'run_attempt': 1, 'run_created_at': '2025-01-17T15:24:04.221662+00:00', 'run_started_at': '2025-01-17T15:24:04.794815+00:00', 'run_ended_at': '2025-01-17T15:24:04.813686+00:00', 'run_exec_ms': 18, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T15:24:04.813686Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 224, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 112, in _awrite\n    self.do_write(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\write.py", line 157, in do_write\n    raise InvalidUpdateError(\nlanggraph.errors.InvalidUpdateError: Must write to at least one of [\'messages\', \'call\', \'code_output\', \'visualization\', \'next\']\nDuring task with name \'__start__\' and id \'6c8ffd03-f7f7-6f4a-19c2-04f2d5643329\''}
NoneType: None
2025-01-17 17:24:28,451 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:26:10,625 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-01-17 17:26:18,259 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:27:10,184 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:27:14,945 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:27:46,273 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:28:17,773 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'head'
2025-01-17 17:28:38,268 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:29:08,495 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:29:39,087 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:29:49,489 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:31:05,977 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:31:57,058 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:33:16,041 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:34:32,762 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'head'
2025-01-17 17:35:15,305 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'head'
2025-01-17 17:35:44,739 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'head'
2025-01-17 17:36:33,191 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'head'
2025-01-17 17:39:18,558 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:39:50,105 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:40:38,153 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:40:57,584 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:44:17,910 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:45:19,596 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:50:20,398 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:52:55,974 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:53:20,500 - langgraph_api.queue - ERROR - {'run_id': '1efd4eb2-c595-61c9-bde1-4331333df97b', 'run_attempt': 1, 'run_created_at': '2025-01-17T15:53:19.824453+00:00', 'run_started_at': '2025-01-17T15:53:20.362610+00:00', 'run_ended_at': '2025-01-17T15:53:20.387165+00:00', 'run_exec_ms': 24, 'event': 'Background run failed', 'logger': 'langgraph_api.queue', 'level': 'error', 'api_variant': 'local_dev', 'timestamp': '2025-01-17T15:53:20.388668Z', 'exception': 'Traceback (most recent call last):\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\queue.py", line 208, in worker\n    await asyncio.wait_for(consume(stream, run_id), timeout)\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\tasks.py", line 489, in wait_for\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 285, in consume\n    raise e from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 275, in consume\n    async for mode, payload in stream:\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\stream.py", line 226, in astream_state\n    event = await wait_if_not_done(anext(stream, sentinel), done)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph_api\\asyncio.py", line 67, in wait_if_not_done\n    raise e.exceptions[0] from None\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\__init__.py", line 1874, in astream\n    async for _ in runner.atick(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 444, in atick\n    _panic_or_proceed(\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\runner.py", line 539, in _panic_or_proceed\n    raise exc\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\pregel\\retry.py", line 132, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 445, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langgraph\\utils\\runnable.py", line 236, in ainvoke\n    ret = await asyncio.create_task(coro, context=context)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 588, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\\Lib\\concurrent\\futures\\thread.py", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\Kareem Abouelseoud\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\langchain_core\\runnables\\config.py", line 579, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "D:\\UNI\\Graduation Project\\PROJECT\\C.A.S.E-Automated-Data-Analysis-By-LLMs\\Agents\\codeGeneration\\mainTools.py", line 703, in tool_node\n    for tool_call in last_message.tool_calls:\n                     ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'dict\' object has no attribute \'tool_calls\'\nDuring task with name \'tools\' and id \'a7fc5936-d7b6-fba2-94da-85736c0cc3de\''}
NoneType: None
2025-01-17 17:53:55,535 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:54:24,006 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:56:49,492 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:57:13,839 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:57:26,124 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:58:53,866 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 17:59:45,072 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:00:08,394 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:00:27,564 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:01:42,328 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:03:10,058 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:04:28,897 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:04:58,788 - root - ERROR - An error occurred: [Errno 2] No such file or directory: 'Database\\\\rawDatasets\\\\raw_dataset_1.csv'
2025-01-17 18:06:04,067 - root - ERROR - An error occurred: [Errno 2] No such file or directory: 'Database\\\\rawDatasets\\\\raw_dataset_1.csv'
2025-01-17 18:06:41,459 - root - ERROR - An error occurred: [Errno 2] No such file or directory: 'Database\\rawDatasets\\\\raw_dataset_1.csv'
2025-01-17 18:07:38,689 - root - ERROR - An error occurred: [Errno 2] No such file or directory: 'Database\\rawDatasets\\\\raw_dataset_1.csv'
2025-01-17 18:10:12,269 - root - ERROR - An error occurred: [Errno 2] No such file or directory: 'Database\\rawDatasets\\raw_dataset_1.csv'
2025-01-17 18:12:40,122 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:14:01,036 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:35:21,778 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:35:53,038 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
2025-01-17 18:35:53,058 - uvicorn.error - ERROR - Traceback (most recent call last):
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\starlette\routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\lifespan.py", line 30, in lifespan
    await collect_graphs_from_env(True)
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 257, in collect_graphs_from_env
    graph = await run_in_executor(None, _graph_from_spec, spec)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 588, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langchain_core\runnables\config.py", line 579, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Kareem Abouelseoud\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\langgraph_api\graph.py", line 286, in _graph_from_spec
    module = importlib.import_module(spec.module)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "D:\UNI\Graduation Project\PROJECT\C.A.S.E-Automated-Data-Analysis-By-LLMs\Agents\codeGeneration\pipeline.py", line 49, in <module>
    print(stream.visualization)
          ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AddableValuesDict' object has no attribute 'visualization'

2025-01-17 18:35:53,058 - uvicorn.error - ERROR - Application startup failed. Exiting.
2025-01-17 18:36:05,582 - root - ERROR - An error occurred: 'NoneType' object has no attribute 'columns'
